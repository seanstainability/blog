{"componentChunkName":"component---src-templates-post-template-tsx","path":"/브라우저는_어떻게_동작하는가_1부/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1>브라우저는 어떻게 동작하는가 - 1부</h1>\n<p><a href=\"https://gs.statcounter.com/\" target=\"_blank\" rel=\"nofollow\">브라우저 시장 점유율 살펴보기</a></p>\n<h2>하드웨어</h2>\n<p>위치 : 하드웨어 ← 운영체제 ← 애플리케이션</p>\n<h3>CPU 코어</h3>\n<p>작업을 ‘순서대로’ 처리한다.</p>\n<h3>GPU</h3>\n<p>여러 GPU 코어가 ‘동시에’ 작업을 처리한다.</p>\n<h3>하드웨어 가속</h3>\n<p>CPU 대신 GPU로 그래픽, 사운드 등의 특정 작업 수행 속도를 높이는 것</p>\n<h2>프로세스와 스레드</h2>\n<p>위치 : 운영체제 ← 애플리케이션 ← 프로세스 ← 스레드</p>\n<p>운영체제에서 애플리케이션 실행 시 작업 공간인 메모리를 할당해준다.</p>\n<h3>프로세스</h3>\n<p>애플리케이션이 실행하는 프로그램</p>\n<ul>\n<li>다른 프로세스의 실행을 운영체제에 요청할 수 있다.</li>\n<li>프로세스 간 통신이 가능하다.(IPC 통신)</li>\n</ul>\n<h3>스레드</h3>\n<p>프로세스로 실행되는 프로그램의 일부를 실행한다.</p>\n<h2>크롬 브라우저</h2>\n<p>브라우저 프로세스, 렌더러 프로세스, GPU 프로세스, 플러그인 프로세스</p>\n<h3>다중 프로세스 아키텍처</h3>\n<p>탭마다 프로세스를 할당한다.(정확히는 iframe에 있는 인라인 사이트를 포함한 사이트별로 프로세스를 할당한다.)</p>\n<h3>서비스화</h3>\n<p>성능 좋은 하드웨어와 리소스(메모리)가 제한적인 장치를 구분하여 각 서비스를 여러 프로세스로 분리하거나 하나의 프로세스에서 실행하거나 한다.</p>\n<h2>동일 출처 정책(same-origin policy)</h2>\n<p>URL의 프로토콜, 호스트(도메인), 포트가 모두 일치하는 경우 동일 출처라고 한다.</p>\n<p>동일 출처가 아닌 경우 브라우저가 HTTP 요청을 제한한다.</p>\n<h3>CORS</h3>\n<p><strong>교차 출처 리소스 공유</strong></p>\n<ul>\n<li>추가 HTTP 헤더를 사용하여, 한 출처에서 실행 중인 웹 애플리케이션이 다른 출처의 자원에 접근할 수 있는 권한을 부여하도록 브라우저에 알려주는 것이다.</li>\n<li>어떤 호스트에서 자신의 콘텐츠를 불러갈 수 있는지 서버에서 지정할 수 있다.</li>\n</ul>\n<h3>CORB</h3>\n<h2>네비게이션 과정</h2>\n<p>사용자가 주소창에 URL을 입력하여 사이트를 요청하고, 브라우저가 인터넷에서 데이터를 가져와 페이지 렌더링을 준비하는 과정</p>\n<h3>브라우저 프로세스</h3>\n<ul>\n<li>UI 스레드</li>\n<li>네트워크 스레드</li>\n<li>스토리지 스레드</li>\n</ul>\n<h3>요청</h3>\n<ul>\n<li>URL 입력을 가지고 UI 스레드가 네트워크 스레드에 요청한다.</li>\n<li>네트워크 스레드가 DNS Lookup, 프로토콜 연결 설정 등을 통해 요청을 처리한다.</li>\n</ul>\n<h3>응답</h3>\n<ul>\n<li>네트워크 스레드는 응답 페이로드가 들어오면 MIME 스니핑을 한다.</li>\n<li>렌더러 프로세스가 다룰 수 있는 데이터 형식인지 판단하여 렌더러 프로세스에 전달하거나, 다운로드 요청으로 판단하여 다운로드 매니저로 전달하기도 한다.</li>\n<li>Safe Browsing 검사를 실행하여, 악성 사이트로 알려진 사이트와 일치할 경우 경고 페이지로 표시하라고 알린다.</li>\n</ul>\n<h4>MIME 스니핑</h4>\n<ul>\n<li>Content-Type 헤더에 설정된 데이터 형식과 실제 데이터 형식을 비교하여 다른 경우 실제 데이터 형식을 기준으로 실행한다.</li>\n<li>XSS(크로스 사이트 스크립팅) 공격의 여지가 있어, <code class=\"language-text\">X-Content-Type-Options: nosniff</code> 헤더를 추가하여 Content-Type 헤더에 설정된 데이터 형식으로만 리소스를 처리하도록 하기도 한다.</li>\n</ul>\n<h3>렌더러 프로세스</h3>\n<ul>\n<li>네트워크 스레드는 UI 스레드에 데이터가 준비되었음을 알린다.</li>\n<li>UI 스레드는 웹 페이지의 렌더링을 수행할 렌더러 프로세스를 찾는다.</li>\n<li>브라우저 프로세스에서 렌더러 프로세스로 IPC 메시지를 전송한다.(데이터 스트림을 전달하여 데이터를 계속 수신할 수 있도록 한다.)</li>\n<li>렌더러 프로세스는 계속 리소스를 로딩하고, 페이지를 렌더링한다.</li>\n<li>페이지의 생명 주기를 바탕으로 브라우저 프로세스와 렌더러 프로세스 간의 IPC 통신이 지속적으로 이루어진다.\n<ul>\n<li>모든 리소스의 로딩이 완료되어 load 이벤트가 발생한 후 브라우저 프로세스로 페이지 로드가 완료되었다는 메시지를 보낸다.</li>\n<li>다른 사이트로 이동하기 전에 브라우저 프로세스는 렌더러 프로세스에게 beforeunload 이벤트를 처리해야 하는지 묻는다.</li>\n</ul>\n</li>\n</ul>\n<h2>네비게이션 속도 향상</h2>\n<h3>서비스워커</h3>\n<ul>\n<li>렌더러 프로세스에서 실행되는 자바스크립트 코드이다.</li>\n<li>네비게이션 발생 시 네트워크 스레드는 도메인을 등록된 서비스 워커의 범위와 비교하여 해당 URL에 등록된 서비스 워커가 있으면 UI 스레드는 서비스 워커 코드를 실행하기 위해 렌더러 프로세스를 찾는다.</li>\n</ul>\n<h3>프리로드</h3>\n<p>서비스 워커가 네트워크에서 데이터를 요청하기로 하면 지연(Latency)이 발생하는데, 서비스 워커의 시작과 병렬로 리소스를 로딩하여 내비게이션 과정의 속도를 높이는 매커니즘이다.</p>\n<h2>참조</h2>\n<ul>\n<li><a href=\"https://d2.naver.com/helloworld/2922312#ch8\" target=\"_blank\" rel=\"nofollow\">최신 브라우저의 내부 살펴보기 1 - CPU, GPU, 메모리 그리고 다중 프로세스 아키텍처</a></li>\n<li><a href=\"https://d2.naver.com/helloworld/9274593\" target=\"_blank\" rel=\"nofollow\">최신 브라우저의 내부 살펴보기 2 - 내비게이션 과정에서 일어나는 일</a></li>\n</ul>","frontmatter":{"title":"브라우저는 어떻게 동작하는가 - 1부","summary":"브라우저 동작 원리에 대한 흐름을 알아본다.","date":"2021.08.13.","categories":["브라우저"],"thumbnail":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACIElEQVQ4y5WU22sTQRTG+7f55N/ho+Crr774rG9a25jWiggihULVWhVbFcUqDU0iIfaSZHeTXpLubrL3y+xPZnJx0wa0A9+emeHMt+ec78zMAQghLiAb2nQGRM4KQZZlkkJZiTn5ieOYMAwZj7HT/468vyJ0HAfXdWk2WxwdNmi3OzSOGpTLFSrlqrLlvRFG84P9Q+Urz12KcDAYEAQB7zY/sPFmk9qvGp8/fWH+wQIL8wWWHj9hqfiUYnGF5eIKS9IuP+PRwwK1Wp1x2SaE8i+WZeH7PiLLSK+QbhzFk+imCU0LLwhApLD/GyFrmgYkYROI6IaCkmMDCce+4KAfyzyJwog0TRWmCM/Nc0ScUj1pce/+bfCqOOuvKd28AdEhd7dtrq+tARZ3dlyurbZIkgzXcej3+yo7Mv4SmpZF5IfYacyuVVVRpScDvI2vsuQYVsiP+plK88hO2Gn7al/W37ZtPM+bVtk0zckmEcRvt+iXdtVy9fsxm3tdNfc/voJ6ZaisELMJZWEDPyAMQhk1yVkX9/lLwu0t/CDmVqHM4vuWOuC+WMT7+Q0hlU1TBv0ZhEr2UfdPmtUfpiRHkORkjcIplR3HvUw4Ju11z9E1HUM3MNoddN1Q645hoOs6mqaj5/a1lsbp6ZlKeyah5/lYpk2321POkiAPRaJpublOr9dTKo9vzNys+5iN+iuK/g15w2Qg8i2Y9OHFF+Oqj0M+kD+UMnO+3FJUwQAAAABJRU5ErkJggg==","aspectRatio":1.3157894736842106,"src":"/static/62b411c384c028a8fc0968808c356c02/c019b/browser.png","srcSet":"/static/62b411c384c028a8fc0968808c356c02/a9f05/browser.png 200w,\n/static/62b411c384c028a8fc0968808c356c02/23840/browser.png 400w,\n/static/62b411c384c028a8fc0968808c356c02/c019b/browser.png 800w,\n/static/62b411c384c028a8fc0968808c356c02/00376/browser.png 1200w,\n/static/62b411c384c028a8fc0968808c356c02/a9bfd/browser.png 1216w","srcWebp":"/static/62b411c384c028a8fc0968808c356c02/210fa/browser.webp","srcSetWebp":"/static/62b411c384c028a8fc0968808c356c02/8444f/browser.webp 200w,\n/static/62b411c384c028a8fc0968808c356c02/42fc5/browser.webp 400w,\n/static/62b411c384c028a8fc0968808c356c02/210fa/browser.webp 800w,\n/static/62b411c384c028a8fc0968808c356c02/3058d/browser.webp 1200w,\n/static/62b411c384c028a8fc0968808c356c02/38f0d/browser.webp 1216w","sizes":"(max-width: 800px) 100vw, 800px"}},"publicURL":"/static/62b411c384c028a8fc0968808c356c02/browser.png"}}}}]}},"pageContext":{"slug":"/브라우저는_어떻게_동작하는가_1부/"}},"staticQueryHashes":[]}